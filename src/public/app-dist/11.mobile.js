(window.webpackJsonptrilium=window.webpackJsonptrilium||[]).push([[11],{6011:(s,r,o)=>{"use strict";o.r(r),o.d(r,{default:()=>d});var a=o(9800),e=o(2040),n=o(6885);class d{constructor(){$("#options-credentials").html('\n<h3>Username</h3>\n\n<p>Your username is <strong id="credentials-username"></strong>.</p>\n\n<h3>Change password</h3>\n<form id="change-password-form">\n    <div class="form-group">\n        <label for="old-password">Old password</label>\n        <input class="form-control" id="old-password" type="password">\n    </div>\n\n    <div class="form-group">\n        <label for="new-password1">New password</label>\n        <input class="form-control" id="new-password1" type="password">\n    </div>\n\n    <div class="form-group">\n        <label for="new-password2">New password once more</label>\n        <input class="form-control" id="new-password2" type="password">\n    </div>\n\n    <button class="btn btn-primary">Change password</button>\n</form>'),this.$username=$("#credentials-username"),this.$form=$("#change-password-form"),this.$oldPassword=$("#old-password"),this.$newPassword1=$("#new-password1"),this.$newPassword2=$("#new-password2"),this.$form.on("submit",()=>this.save())}optionsLoaded(s){this.$username.text(s.username)}save(){const s=this.$oldPassword.val(),r=this.$newPassword1.val(),o=this.$newPassword2.val();return this.$oldPassword.val(""),this.$newPassword1.val(""),this.$newPassword2.val(""),r!==o?(alert("New passwords are not the same."),!1):(a.Z.post("password/change",{current_password:s,new_password:r}).then(s=>{s.success?(alert("Password has been changed. Trilium will be reloaded after you press OK."),e.Z.resetProtectedSession()):n.default.showError(s.message)}),!1)}}}}]);
//# sourceMappingURL=11.mobile.js.map