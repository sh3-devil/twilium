{"version":3,"sources":["webpack://trilium/./src/public/app/dialogs/prompt.js"],"names":["$dialog","$","$dialogBody","find","$question","$answer","$form","resolve","shownCb","ask","message","defaultValue","shown","prop","text","addClass","val","empty","append","Promise","res","rej","on","trigger","select","modal"],"mappings":"6IAEA,MAAMA,EAAUC,EAAE,kBACZC,EAAcF,EAAQG,KAAK,eAEjC,IAAIC,EACAC,EAEJ,MAAMC,EAAQL,EAAE,uBAEhB,IAAIM,EACAC,EAEG,SAASC,GAAI,QAAEC,EAAO,aAAEC,EAAY,MAAEC,IAqBzC,OApBAJ,EAAUI,EAEVR,EAAYH,EAAE,WACTY,KAAK,MAAO,wBACZC,KAAKJ,GAEVL,EAAUJ,EAAE,WACPY,KAAK,OAAQ,QACbA,KAAK,KAAM,wBACXE,SAAS,gBACTC,IAAIL,GAAgB,IAEzBT,EAAYe,QAAQC,OAChBjB,EAAE,SACGc,SAAS,cACTG,OAAOd,GACPc,OAAOb,IAEhB,eAAiBL,GAEV,IAAImB,QAAQ,CAACC,EAAKC,KAAUd,EAAUa,IAGjDpB,EAAQsB,GAAG,iBAAkB,KACrBd,GACAA,EAAQ,CAAER,UAASI,YAAWC,UAASC,UAG3CD,EAAQkB,QAAQ,SAASC,WAG7BxB,EAAQsB,GAAG,kBAAmB,KACtBf,GACAA,EAAQ,QAIhBD,EAAMgB,GAAG,SAAU,KACff,EAAQF,EAAQW,OAEhBhB,EAAQyB,MAAM","file":"119.desktop.js","sourcesContent":["import utils from \"../services/utils.js\";\n\nconst $dialog = $(\"#prompt-dialog\");\nconst $dialogBody = $dialog.find(\".modal-body\");\n\nlet $question;\nlet $answer;\n\nconst $form = $(\"#prompt-dialog-form\");\n\nlet resolve;\nlet shownCb;\n\nexport function ask({ message, defaultValue, shown }) {\n    shownCb = shown;\n\n    $question = $(\"<label>\")\n        .prop(\"for\", \"prompt-dialog-answer\")\n        .text(message);\n\n    $answer = $(\"<input>\")\n        .prop(\"type\", \"text\")\n        .prop(\"id\", \"prompt-dialog-answer\")\n        .addClass(\"form-control\")\n        .val(defaultValue || \"\");\n\n    $dialogBody.empty().append(\n        $(\"<div>\")\n            .addClass(\"form-group\")\n            .append($question)\n            .append($answer));\n\n    utils.openDialog($dialog);\n\n    return new Promise((res, rej) => { resolve = res; });\n}\n\n$dialog.on('shown.bs.modal', () => {\n    if (shownCb) {\n        shownCb({ $dialog, $question, $answer, $form });\n    }\n\n    $answer.trigger('focus').select();\n});\n\n$dialog.on(\"hidden.bs.modal\", () => {\n    if (resolve) {\n        resolve(null);\n    }\n});\n\n$form.on('submit', () => {\n    resolve($answer.val());\n\n    $dialog.modal('hide');\n});\n"],"sourceRoot":""}