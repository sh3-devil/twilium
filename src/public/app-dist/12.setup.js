(window.webpackJsonptrilium=window.webpackJsonptrilium||[]).push([[12],{12:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});var s=i(800),o=i(46),n=i(95),a=i(707);class r{constructor(){$("#options-appearance").html('\n<p><strong>Settings on this options tab are saved automatically after each change.</strong></p>\n\n<form>\n    <div class="form-group row">\n        <div class="col-4">\n            <label for="theme-select">Theme</label>\n            <select class="form-control" id="theme-select"></select>\n        </div>\n\n        <div class="col-4">\n            <label for="zoom-factor-select">Zoom factor (desktop build only)</label>\n\n            <input type="number" class="form-control" id="zoom-factor-select" min="0.3" max="2.0" step="0.1"/>\n        </div>\n        \n        <div class="col-4">\n            <label for="native-title-bar-select">Native title bar (requires app restart)</label>\n\n            <select class="form-control" id="native-title-bar-select">\n                <option value="show">enabled</option>\n                <option value="hide">disabled</option>\n            </select>\n        </div>\n    </div>\n\n    <p>Zooming can be controlled with CTRL-+ and CTRL-= shortcuts as well.</p>\n\n    <h4>Font sizes</h4>\n\n    <div class="form-group row">\n        <div class="col-4">\n            <label for="main-font-size">Main font size</label>\n\n            <div class="input-group">\n                <input type="number" class="form-control" id="main-font-size" min="50" max="200" step="10"/>\n                <div class="input-group-append">\n                    <span class="input-group-text">%</span>\n                </div>\n            </div>\n        </div>\n\n        <div class="col-4">\n            <label for="tree-font-size">Note tree font size</label>\n\n            <div class="input-group">\n                <input type="number" class="form-control" id="tree-font-size" min="50" max="200" step="10"/>\n                <div class="input-group-append">\n                    <span class="input-group-text">%</span>\n                </div>\n            </div>\n        </div>\n\n        <div class="col-4">\n            <label for="detail-font-size">Note detail font size</label>\n\n            <div class="input-group">\n                <input type="number" class="form-control" id="detail-font-size" min="50" max="200" step="10"/>\n                <div class="input-group-append">\n                    <span class="input-group-text">%</span>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <p>Note that tree and detail font sizing is relative to the main font size setting.</p>\n</form>'),this.$themeSelect=$("#theme-select"),this.$zoomFactorSelect=$("#zoom-factor-select"),this.$nativeTitleBarSelect=$("#native-title-bar-select"),this.$mainFontSize=$("#main-font-size"),this.$treeFontSize=$("#tree-font-size"),this.$detailFontSize=$("#detail-font-size"),this.$body=$("body"),this.$themeSelect.on("change",()=>{const e=this.$themeSelect.val();for(const e of Array.from(this.$body[0].classList))e.startsWith("theme-")&&this.$body.removeClass(e);const t=$(this).find(":selected").attr("data-note-id");t&&a.Z.requireCss("api/notes/download/"+t),this.$body.addClass("theme-"+e),s.Z.put("options/theme/"+e)}),this.$zoomFactorSelect.on("change",()=>{n.default.triggerCommand("setZoomFactorAndSave",{zoomFactor:this.$zoomFactorSelect.val()})}),this.$nativeTitleBarSelect.on("change",()=>{const e="show"===this.$nativeTitleBarSelect.val()?"true":"false";s.Z.put("options/nativeTitleBarVisible/"+e)}),this.$mainFontSize.on("change",async()=>{await s.Z.put("options/mainFontSize/"+this.$mainFontSize.val()),this.applyFontSizes()}),this.$treeFontSize.on("change",async()=>{await s.Z.put("options/treeFontSize/"+this.$treeFontSize.val()),this.applyFontSizes()}),this.$detailFontSize.on("change",async()=>{await s.Z.put("options/detailFontSize/"+this.$detailFontSize.val()),this.applyFontSizes()})}async optionsLoaded(e){const t=[{val:"white",title:"White"},{val:"dark",title:"Dark"},{val:"black",title:"Black"}].concat(await s.Z.get("options/user-themes"));this.$themeSelect.empty();for(const e of t)this.$themeSelect.append($("<option>").attr("value",e.val).attr("data-note-id",e.noteId).html(e.title));this.$themeSelect.val(e.theme),o.Z.isElectron()?this.$zoomFactorSelect.val(e.zoomFactor):this.$zoomFactorSelect.prop("disabled",!0),this.$nativeTitleBarSelect.val("true"===e.nativeTitleBarVisible?"show":"hide"),this.$mainFontSize.val(e.mainFontSize),this.$treeFontSize.val(e.treeFontSize),this.$detailFontSize.val(e.detailFontSize)}applyFontSizes(){this.$body.get(0).style.setProperty("--main-font-size",this.$mainFontSize.val()+"%"),this.$body.get(0).style.setProperty("--tree-font-size",this.$treeFontSize.val()+"%"),this.$body.get(0).style.setProperty("--detail-font-size",this.$detailFontSize.val()+"%")}}},707:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});const s={};async function o(e){s[e]||(s[e]=$.ajax({url:e,dataType:"script",cache:!0})),await s[e]}async function n(e){Array.from(document.querySelectorAll("link")).map(e=>e.href).some(t=>t.endsWith(e))||$("head").append($('<link rel="stylesheet" type="text/css" />').attr("href",e))}const a={requireCss:n,requireLibrary:async function(e){if(e.css&&e.css.map(e=>n(e)),e.js)for(const t of e.js)await o(t)},CKEDITOR:{js:["libraries/ckeditor/ckeditor.js"]},CODE_MIRROR:{js:["libraries/codemirror/codemirror.js","libraries/codemirror/addon/mode/loadmode.js","libraries/codemirror/addon/fold/xml-fold.js","libraries/codemirror/addon/edit/matchbrackets.js","libraries/codemirror/addon/edit/matchtags.js","libraries/codemirror/addon/search/match-highlighter.js","libraries/codemirror/mode/meta.js","libraries/codemirror/addon/lint/lint.js","libraries/codemirror/addon/lint/eslint.js"],css:["libraries/codemirror/codemirror.css","libraries/codemirror/addon/lint/lint.css"]},ESLINT:{js:["libraries/eslint.js"]},COMMONMARK:{js:["libraries/commonmark.min.js"]},RELATION_MAP:{js:["libraries/jsplumb.js","libraries/panzoom.js"],css:["stylesheets/relation_map.css"]},LINK_MAP:{js:["libraries/jsplumb.js","libraries/panzoom.js","libraries/springy.js"],css:["stylesheets/link_map.css"]},PRINT_THIS:{js:["libraries/printThis.js"]},KNOCKOUT:{js:["libraries/knockout.min.js"]},CALENDAR_WIDGET:{css:["stylesheets/calendar.css"]}}}}]);
//# sourceMappingURL=12.setup.js.map