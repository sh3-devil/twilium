{"version":3,"sources":["webpack://trilium/./src/public/app/services/mime_types.js","webpack://trilium/./src/public/app/dialogs/options/code_notes.js"],"names":["MIME_TYPES_DICT","default","title","mime","loadMimeTypes","JSON","parse","stringify","enabledMimeTypes","options","filter","mt","map","enabled","includes","getMimeTypes","async","CodeNotesOptions","$","html","this","$mimeTypes","empty","idCtr","mimeType","id","append","attr","prop","on","save","text","find","each","i","el","push"],"mappings":"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","file":"617.setup.js","sourcesContent":["import options from \"./options.js\";\n\nconst MIME_TYPES_DICT = [\n    { default: true, title: \"Plain text\", mime: \"text/plain\" },\n    { title: \"APL\", mime: \"text/apl\" },\n    { title: \"PGP\", mime: \"application/pgp\" },\n    { title: \"ASN.1\", mime: \"text/x-ttcn-asn\" },\n    { title: \"Asterisk\", mime: \"text/x-asterisk\" },\n    { title: \"Brainfuck\", mime: \"text/x-brainfuck\" },\n    { default: true, title: \"C\", mime: \"text/x-csrc\" },\n    { default: true, title: \"C++\", mime: \"text/x-c++src\" },\n    { title: \"Cobol\", mime: \"text/x-cobol\" },\n    { default: true, title: \"C#\", mime: \"text/x-csharp\" },\n    { title: \"Clojure\", mime: \"text/x-clojure\" },\n    { title: \"ClojureScript\", mime: \"text/x-clojurescript\" },\n    { title: \"Closure Stylesheets (GSS)\", mime: \"text/x-gss\" },\n    { title: \"CMake\", mime: \"text/x-cmake\" },\n    { title: \"CoffeeScript\", mime: \"text/coffeescript\" },\n    { title: \"Common Lisp\", mime: \"text/x-common-lisp\" },\n    { title: \"Cypher\", mime: \"application/x-cypher-query\" },\n    { title: \"Cython\", mime: \"text/x-cython\" },\n    { title: \"Crystal\", mime: \"text/x-crystal\" },\n    { default: true, title: \"CSS\", mime: \"text/css\" },\n    { title: \"CQL\", mime: \"text/x-cassandra\" },\n    { title: \"D\", mime: \"text/x-d\" },\n    { title: \"Dart\", mime: \"application/dart\" },\n    { title: \"diff\", mime: \"text/x-diff\" },\n    { title: \"Django\", mime: \"text/x-django\" },\n    { title: \"Dockerfile\", mime: \"text/x-dockerfile\" },\n    { title: \"DTD\", mime: \"application/xml-dtd\" },\n    { title: \"Dylan\", mime: \"text/x-dylan\" },\n    { title: \"EBNF\", mime: \"text/x-ebnf\" },\n    { title: \"ECL\", mime: \"text/x-ecl\" },\n    { title: \"edn\", mime: \"application/edn\" },\n    { title: \"Eiffel\", mime: \"text/x-eiffel\" },\n    { title: \"Elm\", mime: \"text/x-elm\" },\n    { title: \"Embedded Javascript\", mime: \"application/x-ejs\" },\n    { title: \"Embedded Ruby\", mime: \"application/x-erb\" },\n    { title: \"Erlang\", mime: \"text/x-erlang\" },\n    { title: \"Esper\", mime: \"text/x-esper\" },\n    { title: \"Factor\", mime: \"text/x-factor\" },\n    { title: \"FCL\", mime: \"text/x-fcl\" },\n    { title: \"Forth\", mime: \"text/x-forth\" },\n    { title: \"Fortran\", mime: \"text/x-fortran\" },\n    { title: \"F#\", mime: \"text/x-fsharp\" },\n    { title: \"Gas\", mime: \"text/x-gas\" },\n    { title: \"Gherkin\", mime: \"text/x-feature\" },\n    { title: \"GitHub Flavored Markdown\", mime: \"text/x-gfm\" },\n    { default: true, title: \"Go\", mime: \"text/x-go\" },\n    { default: true, title: \"Groovy\", mime: \"text/x-groovy\" },\n    { title: \"HAML\", mime: \"text/x-haml\" },\n    { default: true, title: \"Haskell\", mime: \"text/x-haskell\" },\n    { title: \"Haskell (Literate)\", mime: \"text/x-literate-haskell\" },\n    { title: \"Haxe\", mime: \"text/x-haxe\" },\n    { title: \"HXML\", mime: \"text/x-hxml\" },\n    { title: \"ASP.NET\", mime: \"application/x-aspx\" },\n    { default: true, title: \"HTML\", mime: \"text/html\" },\n    { default: true, title: \"HTTP\", mime: \"message/http\" },\n    { title: \"IDL\", mime: \"text/x-idl\" },\n    { title: \"Pug\", mime: \"text/x-pug\" },\n    { default: true, title: \"Java\", mime: \"text/x-java\" },\n    { title: \"Java Server Pages\", mime: \"application/x-jsp\" },\n    { default: true, title: 'JS frontend', mime: 'application/javascript;env=frontend' },\n    { default: true, title: 'JS backend', mime: 'application/javascript;env=backend' },\n    { default: true, title: \"JSON\", mime: \"application/json\" },\n    { title: \"JSON-LD\", mime: \"application/ld+json\" },\n    { title: \"JSX\", mime: \"text/jsx\" },\n    { title: \"Jinja2\", mime: \"text/jinja2\" },\n    { title: \"Julia\", mime: \"text/x-julia\" },\n    { default: true, title: \"Kotlin\", mime: \"text/x-kotlin\" },\n    { title: \"LESS\", mime: \"text/x-less\" },\n    { title: \"LiveScript\", mime: \"text/x-livescript\" },\n    { title: \"Lua\", mime: \"text/x-lua\" },\n    { default: true, title: \"Markdown\", mime: \"text/x-markdown\" },\n    { title: \"mIRC\", mime: \"text/mirc\" },\n    { title: \"MariaDB SQL\", mime: \"text/x-mariadb\" },\n    { title: \"Mathematica\", mime: \"text/x-mathematica\" },\n    { title: \"Modelica\", mime: \"text/x-modelica\" },\n    { title: \"MUMPS\", mime: \"text/x-mumps\" },\n    { title: \"MS SQL\", mime: \"text/x-mssql\" },\n    { title: \"mbox\", mime: \"application/mbox\" },\n    { title: \"MySQL\", mime: \"text/x-mysql\" },\n    { title: \"Nginx\", mime: \"text/x-nginx-conf\" },\n    { title: \"NSIS\", mime: \"text/x-nsis\" },\n    { title: \"NTriples\", mime: \"application/n-triples\" },\n    { title: \"Objective-C\", mime: \"text/x-objectivec\" },\n    { title: \"OCaml\", mime: \"text/x-ocaml\" },\n    { title: \"Octave\", mime: \"text/x-octave\" },\n    { title: \"Oz\", mime: \"text/x-oz\" },\n    { title: \"Pascal\", mime: \"text/x-pascal\" },\n    { title: \"PEG.js\", mime: \"null\" },\n    { default: true, title: \"Perl\", mime: \"text/x-perl\" },\n    { default: true, title: \"PHP\", mime: \"text/x-php\" },\n    { title: \"Pig\", mime: \"text/x-pig\" },\n    { title: \"PLSQL\", mime: \"text/x-plsql\" },\n    { title: \"PostgreSQL\", mime: \"text/x-pgsql\" },\n    { title: \"PowerShell\", mime: \"application/x-powershell\" },\n    { title: \"Properties files\", mime: \"text/x-properties\" },\n    { title: \"ProtoBuf\", mime: \"text/x-protobuf\" },\n    { default: true, title: \"Python\", mime: \"text/x-python\" },\n    { title: \"Puppet\", mime: \"text/x-puppet\" },\n    { title: \"Q\", mime: \"text/x-q\" },\n    { title: \"R\", mime: \"text/x-rsrc\" },\n    { title: \"reStructuredText\", mime: \"text/x-rst\" },\n    { title: \"RPM Changes\", mime: \"text/x-rpm-changes\" },\n    { title: \"RPM Spec\", mime: \"text/x-rpm-spec\" },\n    { default: true, title: \"Ruby\", mime: \"text/x-ruby\" },\n    { title: \"Rust\", mime: \"text/x-rustsrc\" },\n    { title: \"SAS\", mime: \"text/x-sas\" },\n    { title: \"Sass\", mime: \"text/x-sass\" },\n    { title: \"Scala\", mime: \"text/x-scala\" },\n    { title: \"Scheme\", mime: \"text/x-scheme\" },\n    { title: \"SCSS\", mime: \"text/x-scss\" },\n    { default: true, title: \"Shell\", mime: \"text/x-sh\" },\n    { title: \"Sieve\", mime: \"application/sieve\" },\n    { title: \"Slim\", mime: \"text/x-slim\" },\n    { title: \"Smalltalk\", mime: \"text/x-stsrc\" },\n    { title: \"Smarty\", mime: \"text/x-smarty\" },\n    { title: \"Solr\", mime: \"text/x-solr\" },\n    { title: \"SML\", mime: \"text/x-sml\" },\n    { title: \"Soy\", mime: \"text/x-soy\" },\n    { title: \"SPARQL\", mime: \"application/sparql-query\" },\n    { title: \"Spreadsheet\", mime: \"text/x-spreadsheet\" },\n    { default: true, title: \"SQL\", mime: \"text/x-sql\" },\n    { title: \"SQLite\", mime: \"text/x-sqlite\" },\n    { title: \"Squirrel\", mime: \"text/x-squirrel\" },\n    { title: \"Stylus\", mime: \"text/x-styl\" },\n    { default: true, title: \"Swift\", mime: \"text/x-swift\" },\n    { title: \"sTeX\", mime: \"text/x-stex\" },\n    { title: \"LaTeX\", mime: \"text/x-latex\" },\n    { title: \"SystemVerilog\", mime: \"text/x-systemverilog\" },\n    { title: \"Tcl\", mime: \"text/x-tcl\" },\n    { title: \"Textile\", mime: \"text/x-textile\" },\n    { title: \"TiddlyWiki \", mime: \"text/x-tiddlywiki\" },\n    { title: \"Tiki wiki\", mime: \"text/tiki\" },\n    { title: \"TOML\", mime: \"text/x-toml\" },\n    { title: \"Tornado\", mime: \"text/x-tornado\" },\n    { title: \"troff\", mime: \"text/troff\" },\n    { title: \"TTCN\", mime: \"text/x-ttcn\" },\n    { title: \"TTCN_CFG\", mime: \"text/x-ttcn-cfg\" },\n    { title: \"Turtle\", mime: \"text/turtle\" },\n    { title: \"TypeScript\", mime: \"application/typescript\" },\n    { title: \"TypeScript-JSX\", mime: \"text/typescript-jsx\" },\n    { title: \"Twig\", mime: \"text/x-twig\" },\n    { title: \"Web IDL\", mime: \"text/x-webidl\" },\n    { title: \"VB.NET\", mime: \"text/x-vb\" },\n    { title: \"VBScript\", mime: \"text/vbscript\" },\n    { title: \"Velocity\", mime: \"text/velocity\" },\n    { title: \"Verilog\", mime: \"text/x-verilog\" },\n    { title: \"VHDL\", mime: \"text/x-vhdl\" },\n    { title: \"Vue.js Component\", mime: \"text/x-vue\" },\n    { default: true, title: \"XML\", mime: \"text/xml\" },\n    { title: \"XQuery\", mime: \"application/xquery\" },\n    { title: \"Yacas\", mime: \"text/x-yacas\" },\n    { default: true, title: \"YAML\", mime: \"text/x-yaml\" },\n    { title: \"Z80\", mime: \"text/x-z80\" },\n    { title: \"mscgen\", mime: \"text/x-mscgen\" },\n    { title: \"xu\", mime: \"text/x-xu\" },\n    { title: \"msgenny\", mime: \"text/x-msgenny\" }\n];\n\nlet mimeTypes = null;\n\nfunction loadMimeTypes() {\n    mimeTypes = JSON.parse(JSON.stringify(MIME_TYPES_DICT)); // clone\n\n    const enabledMimeTypes = options.getJson('codeNotesMimeTypes')\n        || MIME_TYPES_DICT.filter(mt => mt.default).map(mt => mt.mime);\n\n    for (const mt of mimeTypes) {\n        mt.enabled = enabledMimeTypes.includes(mt.mime) || mt.mime === 'text/plain'; // text/plain is always enabled\n    }\n}\n\nasync function getMimeTypes() {\n    if (mimeTypes === null) {\n        loadMimeTypes();\n    }\n\n    return mimeTypes;\n}\n\nexport default {\n    getMimeTypes,\n    loadMimeTypes\n}","import mimeTypesService from \"../../services/mime_types.js\";\nimport options from \"../../services/options.js\";\n\nconst TPL = `\n<h4>Available MIME types in the dropdown</h4>\n\n<ul id=\"options-mime-types\" style=\"max-height: 500px; overflow: auto; list-style-type: none;\"></ul>`;\n\nexport default class CodeNotesOptions {\n    constructor() {\n        $(\"#options-code-notes\").html(TPL);\n\n        this.$mimeTypes = $(\"#options-mime-types\");\n    }\n\n    async optionsLoaded() {\n        this.$mimeTypes.empty();\n\n        let idCtr = 1;\n\n        for (const mimeType of await mimeTypesService.getMimeTypes()) {\n            const id = \"code-mime-type-\" + (idCtr++);\n\n            this.$mimeTypes.append($(\"<li>\")\n                .append($('<input type=\"checkbox\">')\n                    .attr(\"id\", id)\n                    .attr(\"data-mime-type\", mimeType.mime)\n                    .prop(\"checked\", mimeType.enabled))\n                    .on('change', () => this.save())\n                .append(\" &nbsp; \")\n                .append($('<label>')\n                    .attr(\"for\", id)\n                    .text(mimeType.title))\n            );\n        }\n    }\n\n    async save() {\n        const enabledMimeTypes = [];\n\n        this.$mimeTypes.find(\"input:checked\").each(\n            (i, el) => enabledMimeTypes.push($(el).attr(\"data-mime-type\")));\n\n        await options.save('codeNotesMimeTypes', JSON.stringify(enabledMimeTypes));\n\n        mimeTypesService.loadMimeTypes();\n    }\n}"],"sourceRoot":""}