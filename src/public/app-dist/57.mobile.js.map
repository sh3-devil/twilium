{"version":3,"sources":["webpack://trilium/./src/public/app/dialogs/info.js"],"names":["$dialog","$","$infoContent","$okButton","resolve","$originallyFocused","info","message","text","Promise","res","rej","on","trigger","modal"],"mappings":"6IAEA,MAAMA,EAAUC,EAAE,gBACZC,EAAeD,EAAE,wBACjBE,EAAYF,EAAE,0BAEpB,IAAIG,EACAC,EAEG,SAASC,EAAKC,GAOjB,OANAF,EAAqBJ,EAAE,UAEvBC,EAAaM,KAAKD,GAElB,eAAiBP,GAEV,IAAIS,QAAQ,CAACC,EAAKC,KAAUP,EAAUM,IAGjDV,EAAQY,GAAG,iBAAkB,IAAMT,EAAUU,QAAQ,UAErDb,EAAQY,GAAG,kBAAmB,KACtBR,GACAA,IAGAC,IACAA,EAAmBQ,QAAQ,SAC3BR,EAAqB,QAI7BF,EAAUS,GAAG,QAAS,IAAMZ,EAAQc,MAAM","file":"57.mobile.js","sourcesContent":["import utils from \"../services/utils.js\";\n\nconst $dialog = $(\"#info-dialog\");\nconst $infoContent = $(\"#info-dialog-content\");\nconst $okButton = $(\"#info-dialog-ok-button\");\n\nlet resolve;\nlet $originallyFocused; // element focused before the dialog was opened so we can return to it afterwards\n\nexport function info(message) {\n    $originallyFocused = $(':focus');\n\n    $infoContent.text(message);\n\n    utils.openDialog($dialog);\n\n    return new Promise((res, rej) => { resolve = res; });\n}\n\n$dialog.on('shown.bs.modal', () => $okButton.trigger(\"focus\"));\n\n$dialog.on(\"hidden.bs.modal\", () => {\n    if (resolve) {\n        resolve();\n    }\n\n    if ($originallyFocused) {\n        $originallyFocused.trigger('focus');\n        $originallyFocused = null;\n    }\n});\n\n$okButton.on('click', () => $dialog.modal(\"hide\"));"],"sourceRoot":""}