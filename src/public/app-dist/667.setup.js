(window.webpackJsonptrilium=window.webpackJsonptrilium||[]).push([[667],{667:(t,e,o)=>{"use strict";o.r(e),o.d(e,{showDialog:()=>l});var a=o(847),n=o(46),i=o(95);const c=$("#jump-to-note-dialog"),s=$("#jump-to-note-autocomplete");async function l(){s.val(""),n.Z.openDialog(c),a.Z.initNoteAutocomplete(s,{hideGoToSelectedNoteButton:!0}).on("autocomplete:selected",(function(t,e,o){if(!e.path)return!1;i.default.tabManager.getActiveTabContext().setNote(e.path)})),a.Z.showRecentNotes(s)}function u(t){t.preventDefault(),t.stopPropagation();const e=s.val();searchNotesService.resetSearch(),searchNotesService.showSearch(),searchNotesService.doSearch(e),c.modal("hide")}$("#show-in-full-text-button").on("click",u),n.Z.bindElShortcut(c,"ctrl+return",u)},847:(t,e,o)=>{"use strict";o.d(e,{Z:()=>u});var a=o(800),n=o(95),i=o(46);async function c(t,e){const o=await a.Z.get("autocomplete?query="+encodeURIComponent(t)+"&activeNoteId="+n.default.tabManager.getActiveTabNoteId());0===o.length&&o.push({pathTitle:"No results",path:""}),e(o)}function s(t){i.Z.isMobile()||(t.setSelectedPath(""),t.autocomplete("val","").trigger("change"))}function l(t){i.Z.isMobile()||(t.setSelectedPath(""),t.autocomplete("val",""),t.trigger("focus"))}const u={autocompleteSource:c,initNoteAutocomplete:function(t,e){if(t.hasClass("note-autocomplete-input")||i.Z.isMobile())return t;e=e||{},t.addClass("note-autocomplete-input");const o=$("<a>").addClass("input-group-text input-clearer-button bx bx-x").prop("title","Clear text field"),a=$("<a>").addClass("input-group-text show-recent-notes-button bx bx-time").prop("title","Show recent notes"),n=$("<a>").addClass("input-group-text go-to-selected-note-button bx bx-arrow-to-right").attr("data-action","note"),u=$("<div>").addClass("input-group-append").append(o).append(a);return e.hideGoToSelectedNoteButton||u.append(n),t.after(u),o.on("click",()=>s(t)),a.on("click",e=>(l(t),!1)),t.autocomplete({appendTo:document.querySelector("body"),hint:!1,autoselect:!0,openOnFocus:!0,minLength:0,tabAutocomplete:!1},[{source:c,displayKey:"pathTitle",templates:{suggestion:function(t){return t.highlightedTitle}},cache:!1}]),t.on("autocomplete:selected",(e,o)=>t.setSelectedPath(o.path)),t.on("autocomplete:closed",()=>{t.val().trim()||s(t)}),t},showRecentNotes:l,init:function(){$.fn.getSelectedPath=function(){return $(this).val().trim()?$(this).attr("data-note-path"):""},$.fn.setSelectedPath=function(t){t=t||"",$(this).attr("data-note-path",t),$(this).closest(".input-group").find(".go-to-selected-note-button").toggleClass("disabled",!t.trim()).attr("data-note-path",t)}}}}}]);
//# sourceMappingURL=667.setup.js.map